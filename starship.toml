"$schema" = 'https://starship.rs/config-schema.json'

command_timeout = 2000

# other formats
# [î‚¶](color_orange)$os[î‚´](color_orange)\
# $username\
#

format = """
$git_branch$git_status\
([î‚¶](color_blue)\
$rust\
$golang\
$nodejs\
$php\
$java\
$python\
[î‚°](bg:color_black fg:color_blue))\
$docker_context\
$directory\
$line_break\
$time\
${custom.aws_creds}\
${custom.random_emoji}\
$character"""

palette = 'dark_colors'

[palettes.pure_colors]
color_red = '#ff0000'
color_orange = '#ff8800'
color_yellow = '#ffff00'
color_green = '#00ff00'
color_blue = '#0000ff'
color_indigo = '#4B0082'
color_violet = '#9400ff'
color_white = '#ffffff'
color_black = '#000000'
color_dark_gray = '#2d2d2d'
color_light_gray = '#808080'
color_bright_red = '#ff0000'
color_bright_green = '#00ff00'

[palettes.dark_colors]
color_red = '#600000'
color_orange = '#603300'
color_yellow = '#606000'
color_green = '#006000'
color_blue = '#000060'
color_indigo = '#1d0050'
color_violet = '#380060'
color_white = '#ffffff'
color_black = '#000000'
color_dark_gray = '#2d2d2d'
color_light_gray = '#808080'
color_bright_red = '#ff0000'
color_bright_green = '#00ff00'
color_bright_yellow = '#ffff00'
color_bright_orange = '#ff8800'
color_bright_purple = '#9400ff'
color_bright_blue = '#0088ff'

[os]
disabled = false
style = "bg:color_orange fg:color_white"

[os.symbols]
Windows = "ó°²"
Ubuntu = "ó°•ˆ"
SUSE = "ïŒ”"
Raspbian = "ó°¿"
Mint = "ó°£­"
Macos = "ó°€µ"
Manjaro = "ïŒ’"
Linux = "ó°Œ½"
Gentoo = "ó°£¨"
Fedora = "ó°£›"
Alpine = "ïŒ€"
Amazon = "ï‰°"
Android = "îœ"
AOSC = "ïŒ"
Arch = "ó°£‡"
Artix = "ó°£‡"
EndeavourOS = "ï†—"
CentOS = "ïŒ„"
Debian = "ó°£š"
Redhat = "ó±„›"
RedHatEnterprise = "ó±„›"
Pop = "ïŒª"

[username]
show_always = true
style_user = "bg:color_yellow fg:color_white"
style_root = "bg:color_red fg:color_white"
format = '[î‚¶](color_yellow)[ $user ]($style)[î‚°](color_yellow)'

[directory]
style = "fg:color_white bg:color_green"
format = "[î‚¶](color_green)[ $path ]($style)[î‚°](color_green)"
truncation_length = 100
truncation_symbol = "â€¦/"
truncate_to_repo = false
fish_style_pwd_dir_length = 0

# [directory.substitutions]
# "Documents" = "ó°ˆ™ "
# "Downloads" = "ï€™ "
# "Music" = "ó°š "
# "Pictures" = "ï€¾ "
# "Developer" = "ó°²‹ "

[git_branch]
symbol = "ï˜"
style = "bg:color_indigo fg:color_white"
format = '[î‚¶](color_indigo)[$symbol $branch]($style)'

[git_status]
style = "bg:color_indigo fg:color_white"
format = '[ (\($all_status$ahead_behind\))]($style)[î‚°](color_indigo)'

# Customize individual status colors
conflicted = "[=$count](bold fg:color_bright_red bg:color_indigo)"
ahead = "[â‡¡$count](bold fg:color_bright_green bg:color_indigo)"
behind = "[â‡£$count](bold fg:color_bright_yellow bg:color_indigo)"
diverged = "[â‡•$count](bold fg:color_bright_purple bg:color_indigo)"
untracked = "[?$count](bold fg:color_bright_orange bg:color_indigo)"
stashed = '[\$$count](bold fg:color_bright_blue bg:color_indigo)'
modified = "[!$count](bold fg:color_bright_yellow bg:color_indigo)"
staged = "[+$count](bold fg:color_bright_green bg:color_indigo)"
renamed = "[Â»$count](bold fg:color_bright_purple bg:color_indigo)"
deleted = "[âœ˜$count](bold fg:color_bright_red bg:color_indigo)"

[nodejs]
symbol = "îœ˜"
style = "bg:color_blue"
format = '[[$symbol( $version) ](fg:color_white bg:color_blue)]($style)'

[c]
symbol = "î˜ "
style = "bg:color_blue"
format = '[[$symbol( $version) ](fg:color_white bg:color_blue)]($style)'

[cpp]
symbol = "î˜ "
style = "bg:color_blue"
format = '[[$symbol( $version) ](fg:color_white bg:color_blue)]($style)'

[rust]
symbol = "î¨"
style = "bg:color_blue"
format = '[[$symbol( $version) ](fg:color_white bg:color_blue)]($style)'

[golang]
symbol = "î˜§"
style = "bg:color_blue"
format = '[[$symbol( $version) ](fg:color_white bg:color_blue)]($style)'

[php]
symbol = "î˜ˆ"
style = "bg:color_blue"
format = '[[$symbol( $version) ](fg:color_white bg:color_blue)]($style)'

[java]
symbol = "î‰–"
style = "bg:color_blue"
format = '[[$symbol( $version) ](fg:color_white bg:color_blue)]($style)'

[kotlin]
symbol = "î˜´"
style = "bg:color_blue"
format = '[[$symbol( $version) ](fg:color_white bg:color_blue)]($style)'

[haskell]
symbol = "î˜Ÿ"
style = "bg:color_blue"
format = '[[$symbol( $version) ](fg:color_white bg:color_blue)]($style)'

[python]
symbol = "î˜†"
style = "bg:color_blue"
format = '[[$symbol( $version) ](fg:color_white bg:color_blue)]($style)'

[docker_context]
symbol = "ïŒˆ"
style = "bg:color_light_gray fg:color_white"
format = '[î‚¶](color_light_gray)[$symbol( $context) ](($style)[î‚°](color_light_gray)'

[time]
disabled = false
time_format = "%d-%m-%Y (%R)"
style = "bg:color_dark_gray fg:color_white"
format = '[î‚¶](color_dark_gray)[$time]($style)[î‚´](color_dark_gray)'

[line_break]
disabled = false

[custom.aws_creds]
command = 'if [ -n "$AWS_DEFAULT_PROFILE" ] && [ -n "$AWS_DEFAULT_REGION" ]; then echo "$AWS_DEFAULT_PROFILE($AWS_DEFAULT_REGION)"; fi'
when = '[ -n "$AWS_DEFAULT_PROFILE" ]'
shell = ["sh"]
format = '[î‚¶](color_red)[$output](fg:color_white bg:color_red)[î‚°](color_red)'

[custom.aws_creds_valid]
command = 'if [ -n "$AWS_DEFAULT_PROFILE" ] && [ -n "$AWS_DEFAULT_REGION" ]; then echo "$AWS_DEFAULT_PROFILE($AWS_DEFAULT_REGION)"; fi'
when = '[ -n "$AWS_DEFAULT_PROFILE" ] && aws sts get-caller-identity &>/dev/null'
shell = ["sh"]
format = '[î‚¶](color_red)[$output](fg:color_white bg:color_red)[î‚°](color_red)'

[custom.aws_creds_expired]
command = 'if [ -n "$AWS_DEFAULT_PROFILE" ] && [ -n "$AWS_DEFAULT_REGION" ]; then echo "$AWS_DEFAULT_PROFILE($AWS_DEFAULT_REGION)"; fi'
when = '[ -n "$AWS_DEFAULT_PROFILE" ] && ! aws sts get-caller-identity &>/dev/null'
shell = ["sh"]
format = '[î‚¶](color_light_gray)[$output](fg:color_white bg:color_red)[î‚°](color_light_gray)'

# Starship doesn't have direct access to the last command's exit status in custom modules the way bash does with $?.
# However, you can use Starship's built-in status module which is designed for this.
# The $status variable in the command will be replaced by Starship with the actual exit code of the last
# command, and then it gets passed as $0 to the bash command.
[custom.random_emoji]
# TODO: this doesn't work as expected - $status not available in custom module
# command = '''bash -c 'if [ "$0" = "0" ]; then emojis=(ğŸ˜€ ğŸ˜ƒ ğŸ˜„ ğŸ˜ ğŸ˜† ğŸ˜Š ğŸ™ƒ ğŸ˜‹ ğŸ˜› ğŸ˜ ğŸ˜ ğŸ˜œ ğŸ¤— ğŸ˜¬ ğŸ˜); else emojis=(ğŸ˜¡ ğŸ‘¿ ğŸ¤” ğŸ˜µ ğŸ˜¥ ğŸ˜° ğŸ‘ ğŸ˜± ğŸ˜­ ğŸ˜¢ ğŸ–• ğŸ¤¢ ğŸ˜¤ ğŸ’© ğŸ’€); fi; echo ${emojis[RANDOM % ${#emojis[@]}]}' "$status"'''
# So, just generate a random emoji without checking status
command = 'emojis=(ğŸ˜€ ğŸ˜ƒ ğŸ˜„ ğŸ˜ ğŸ˜† ğŸ˜Š ğŸ™ƒ ğŸ˜‹ ğŸ˜› ğŸ˜ ğŸ˜ ğŸ˜œ ğŸ¤— ğŸ˜¬ ğŸ˜ ğŸ˜¡ ğŸ‘¿ ğŸ¤” ğŸ˜µ ğŸ˜¥ ğŸ˜° ğŸ‘ ğŸ˜± ğŸ˜­ ğŸ˜¢ ğŸ–• ğŸ¤¢ ğŸ˜¤ ğŸ’© ğŸ’€); echo ${emojis[RANDOM % ${#emojis[@]}]}'
when = "true"
format = "[ $output ](color_white)"

[character]
disabled = false
# success_symbol = 'â˜¯ [â–¶](bold fg:color_bright_green)'
# error_symbol = 'â˜¯ [â–¶](bold fg:color_bright_red)'
success_symbol = '[â–¶](bold fg:color_bright_green)'
error_symbol = '[â–¶](bold fg:color_bright_red)'
vimcmd_symbol = '[â—€](bold fg:color_blue)'
vimcmd_replace_one_symbol = '[â—†](bold fg:color_violet)'
vimcmd_replace_symbol = '[â—†](bold fg:color_violet)'
vimcmd_visual_symbol = '[â—‡](bold fg:color_blue)'
